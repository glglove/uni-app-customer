(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pages/find/find"],{"0b97":function(n,e,t){"use strict";var a=function(){var n=this,e=n.$createElement,a=(n._self._c,t("53c6")),i=t("d1e0"),o=t("09a0"),r=t("5e4f");n.$mp.data=Object.assign({},{$root:{m0:a,m1:i,m2:o,m3:r}})},i=[];t.d(e,"a",function(){return a}),t.d(e,"b",function(){return i})},"265d":function(n,e,t){"use strict";(function(n){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var a=s(t("a34a")),i=s(t("d340")),o=t("14dd"),r=t("2f62");function s(n){return n&&n.__esModule?n:{default:n}}function u(n,e,t,a,i,o,r){try{var s=n[o](r),u=s.value}catch(c){return void t(c)}s.done?e(u):Promise.resolve(u).then(a,i)}function c(n){return function(){var e=this,t=arguments;return new Promise(function(a,i){var o=n.apply(e,t);function r(n){u(o,a,i,r,s,"next",n)}function s(n){u(o,a,i,r,s,"throw",n)}r(void 0)})}}function d(n){for(var e=1;e<arguments.length;e++){var t=null!=arguments[e]?arguments[e]:{},a=Object.keys(t);"function"===typeof Object.getOwnPropertySymbols&&(a=a.concat(Object.getOwnPropertySymbols(t).filter(function(n){return Object.getOwnPropertyDescriptor(t,n).enumerable}))),a.forEach(function(e){f(n,e,t[e])})}return n}function f(n,e,t){return e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}var l=function(){return t.e("node-modules/_@dcloudio_uni-ui@0.0.8@@dcloudio/uni-ui/lib/uni-pagination/uni-pagination").then(t.bind(null,"4885"))},g=function(){return t.e("node-modules/_@dcloudio_uni-ui@0.0.8@@dcloudio/uni-ui/lib/uni-card/uni-card").then(t.bind(null,"e9d2"))},h=function(){return t.e("pages/components/footerExplain/footerExplain").then(t.bind(null,"accd"))},p={mixins:[o.miniProApi],components:{uniCard:g,uniPagination:l,FooterExplain:h},data:function(){return{contentData:[],version:this.$configs.miniproConfings.version,shairePic_clickable:!1,type:1,bg:{find_bg:"".concat(this.$configs.baseImgsUrl+this.$configs.baseUrlConfigs.imgs_bg.find_bg)},loadingMoreIsShow:!1,authorzeIsShow:"",signData:{signDay:"0",rankNo:"0",totalDay:"0"},loadingMore:{}}},computed:d({},(0,r.mapGetters)(["userToken","forcedLogin","hasLogin","userName"])),watch:{userToken:{handler:function(n,e){n&&this.refreshPage()}}},onLoad:function(){var e=c(a.default.mark(function e(){return a.default.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return console.log(n("find页面------------onload"," at pages\\find\\find.vue:360")),e.t0=console,e.t1=n,e.next=5,this.getLoginStatus();case 5:e.t2=e.sent,e.t3=(0,e.t1)("-------find首页检查是否登陆成功----",e.t2," at pages\\find\\find.vue:361"),e.t0.log.call(e.t0,e.t3);case 8:case"end":return e.stop()}},e,this)}));function t(){return e.apply(this,arguments)}return t}(),onShow:function(){console.log(n("find页面-----------------onShow"," at pages\\find\\find.vue:370")),this.userToken&&this._getRankDayData()},onReady:function(){console.log(n("find页面-----------------onReady"," at pages\\find\\find.vue:378"))},onHide:function(){this.$bus.$off("emitRefreshPage")},onTabItemTap:function(){console.log(n("find页面-----------onTabItemTap----"," at pages\\find\\find.vue:384"))},methods:{onComLoad:function(){var e=c(a.default.mark(function e(){var t=this;return a.default.wrap(function(e){while(1)switch(e.prev=e.next){case 0:console.log(n("find --------onComLoad"," at pages\\find\\find.vue:389")),this.userToken||this.getDeviceApi().showModal({title:"未登录",content:"您未登录，需要登录后才能继续",showCancel:!this.forcedLogin,success:function(n){n.confirm&&t.forcedLogin}});case 2:case"end":return e.stop()}},e,this)}));function t(){return e.apply(this,arguments)}return t}(),refreshPage:function(){this._getRankDayData()},_getRankDayData:function(){var e=this;this.containerLoading=!0;var t={params:{},page:{pageSize:10,pageNum:1}};i.default.getRankDayData(t).then(function(t){if(e.containerLoading=!1,console.log(n(t," at pages\\find\\find.vue:448")),t&&1===t.data.code){e.contentData=t.data.data;var a=t.data.data,i=a.days,o=a.rank,r=a.total;e.signData.signDay=i,e.signData.rankNo=o,e.signData.totalDay=r}else e.getDeviceApi().showToast({title:"数据获取失败",icon:"error",mask:!0,duration:2e3})}).catch(function(n){e.getDeviceApi().showToast({title:"数据获取失败,请重试",icon:"error",mask:!0,duration:2e3})})},clickRank:function(){var n=c(a.default.mark(function n(){return a.default.wrap(function(n){while(1)switch(n.prev=n.next){case 0:this.navigatePage("../packageA/find/ranklist/index");case 1:case"end":return n.stop()}},n,this)}));function e(){return n.apply(this,arguments)}return e}(),invitateFriends:function(){var e=c(a.default.mark(function e(t){var o,r,s,u,c,d,f;return a.default.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return console.log(n("邀请好友 生成海报分享------",t," at pages\\find\\find.vue:500")),this.shairePic_clickable=!0,this.$apply(),e.next=5,this.getStorage("token");case 5:return e.sent,e.next=8,this.getStorage("userInfo");case 8:return o=e.sent,console.log(n("用户id----",o.id," at pages\\find\\find.vue:510")),r={userId:o.id},e.next=13,i.default.getShareData(r,!1);case 13:s=e.sent,u={},s&&1==s.code?(s.data&&(u.headImg=s.data.headImg,u.realName=s.data.realName,u.time=s.data.time,u.title=s.data.title,u.days=s.data.days,u.qrcode=s.data.qrcode),c={picUrl_bg:base.baseUrl+base.imgs_bg.sharePic_bg02,avertor_bg:"../../../../../assets/imgs/icon/logo_1.png",headImg:u.headImg,title:u.title,name:u.realName,dayNum:u.days,time:u.time,codePic:u.qrcode},this.$preload("data",JSON.stringify(c)),d=getCurrentPages(),f=d[d.length-1],f,f.options,f.route,this.navigatePage("../packageA/find/invitation/shaireHaibao/index"),this.shairePic_clickable=!1,this.$apply()):this.toast("网络走神了~~",1e3);case 16:case"end":return e.stop()}},e,this)}));function t(n){return e.apply(this,arguments)}return t}()}};e.default=p}).call(this,t("0de9")["default"])},3122:function(n,e,t){"use strict";t.r(e);var a=t("0b97"),i=t("96b2");for(var o in i)"default"!==o&&function(n){t.d(e,n,function(){return i[n]})}(o);t("d57c");var r=t("2877"),s=Object(r["a"])(i["default"],a["a"],a["b"],!1,null,"75f799a0",null);e["default"]=s.exports},"75ae":function(n,e,t){},"96b2":function(n,e,t){"use strict";t.r(e);var a=t("265d"),i=t.n(a);for(var o in a)"default"!==o&&function(n){t.d(e,n,function(){return a[n]})}(o);e["default"]=i.a},d57c:function(n,e,t){"use strict";var a=t("75ae"),i=t.n(a);i.a}},[["4a52","common/runtime","common/vendor"]]]);