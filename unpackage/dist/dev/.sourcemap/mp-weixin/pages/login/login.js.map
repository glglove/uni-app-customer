{"version":3,"sources":["webpack:///F:/git-uni-app/node-customer/pages/login/login.vue?a81c","webpack:///F:/git-uni-app/node-customer/pages/login/login.vue?e9fb","webpack:///F:/git-uni-app/node-customer/pages/login/login.vue?4365","webpack:///F:/git-uni-app/node-customer/pages/login/login.vue?0636","webpack:///F:/git-uni-app/node-customer/pages/login/login.vue","webpack:///F:/git-uni-app/node-customer/pages/login/login.vue?8e24","webpack:///F:/git-uni-app/node-customer/pages/login/login.vue?65d9"],"names":["components","mInput","mixins","miniProApi","data","providerList","hasProvider","name","password","positionTop","toPageUrl","jumpType","computed","watch","userToken","handler","newValue","oldValue","switchPage","immediate","onLoad","options","e","onReady","initPosition","initProvider","methods","filters","uni","getProvider","service","success","res","provider","length","i","indexOf","push","value","image","fail","err","console","error","JSON","stringify","getSystemInfoSync","windowHeight","bindLogin","_this","params","loginAccount","commApi","appLoginAndRegister","then","log","statusCode","code","token","customer","setStorage","id","$store","dispatch","getStorageSync","toast","redirectPage","reLauchPage","navigatePage","oauth","getDeviceApi","login","getUserInfo","infoRes","getLoginToken","getOpenId","toWelecome","userName","forcedLogin","reLaunch","url","navigateBack"],"mappings":"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","file":"pages/login/login.js","sourcesContent":["import { render, staticRenderFns } from \"./login.vue?vue&type=template&id=1fbda2ce&scoped=true&\"\nimport script from \"./login.vue?vue&type=script&lang=js&\"\nexport * from \"./login.vue?vue&type=script&lang=js&\"\nimport style0 from \"./login.vue?vue&type=style&index=0&id=1fbda2ce&lang=less&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../HBuilderX/plugins/uniapp-cli/node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"1fbda2ce\",\n  null\n  \n)\n\n/* hot reload */\nif (module.hot) {\n  var api = require(\"F:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\vue-hot-reload-api\\\\dist\\\\index.js\")\n  api.install(require('vue'))\n  if (api.compatible) {\n    module.hot.accept()\n    if (!module.hot.data) {\n      api.createRecord('1fbda2ce', component.options)\n    } else {\n      api.reload('1fbda2ce', component.options)\n    }\n    module.hot.accept(\"./login.vue?vue&type=template&id=1fbda2ce&scoped=true&\", function () {\n      api.rerender('1fbda2ce', {\n        render: render,\n        staticRenderFns: staticRenderFns\n      })\n    })\n  }\n}\ncomponent.options.__file = \"git-uni-app/node-customer/pages/login/login.vue\"\nexport default component.exports","export * from \"-!../../../../HBuilderX/plugins/uniapp-cli/node_modules/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--17-0!../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/template.js!../../../../HBuilderX/plugins/uniapp-cli/node_modules/vue-loader/lib/index.js??vue-loader-options!../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./login.vue?vue&type=template&id=1fbda2ce&scoped=true&\"","var render = function() {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n}\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns }","import mod from \"-!../../../../HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--12-1!../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../HBuilderX/plugins/uniapp-cli/node_modules/vue-loader/lib/index.js??vue-loader-options!../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./login.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--12-1!../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../HBuilderX/plugins/uniapp-cli/node_modules/vue-loader/lib/index.js??vue-loader-options!../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./login.vue?vue&type=script&lang=js&\"","//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\n    import loginApi from '@/api/login.js'\n    import commApi from '@/api/comm.js'\n\timport { miniProApi } from '@/utils/mixins.js'\n    import {\n        mapGetters,\n        mapMutations\n    } from 'vuex'\n    import mInput from '../components/m-input/m-input.vue'\n\n    export default {\n        components: {\n            mInput\n        },\n        mixins:[\n            miniProApi\n        ],\n        data() {\n            return {\n                providerList: [],  // 授权的服务商的信息\n                hasProvider: false,  // 是否有 授权的服务商\n                name: '',  // 用户名\n                password: '', //密码\n                positionTop: 0,\n\t\t\t\ttoPageUrl: '../find/find', // 登陆成功后需要跳转的页面地址 默认是跳转至 find首页\n\t\t\t\tjumpType: '2' // jumpType 为跳转的方式： 1:switch   2:redirect  3:relanch 4:navigate\n            }\n        },\n        computed: {\n\t\t\t...mapGetters(['forcedLogin','userToken'])\n\t\t},\n\t\twatch: {\n\t\t\tuserToken: {\n\t\t\t\thandler(newValue, oldValue){\n\t\t\t\t\tif(newValue){\n\t\t\t\t\t\t// 页面调转到首页\n\t\t\t\t\t\tthis.switchPage(\"../find/find\")\n\t\t\t\t\t}\n\t\t\t\t},\n\t\t\t\timmediate: true\n\t\t\t}\n\t\t},\n\t\tonLoad(options) {\n\t\t\tdebugger\n\t\t\ttry{\n\t\t\t\tthis.toPageUrl = options.toPageUrl\n\t\t\t\tthis.jumpType = options.jumpType\n\t\t\t}catch(e){\n\t\t\t\t//TODO handle the exception\n\t\t\t}\n\t\t},\n        onReady() {\n            // 获取 设备屏幕的可视区高度\n            this.initPosition();\n            //获取 服务商\n            this.initProvider();\n        },\n        methods: {\n            // ...mapMutations(['login']),\n            // 获取服务供应商\n            initProvider() {\n\t\t\t\tdebugger\n                const filters = ['weixin', 'qq', 'sinaweibo'];\n                uni.getProvider({\n                    service: 'oauth', //服务类型  登录授权\n                    success: (res) => {\n\t\t\t\t\t\tdebugger\n                        if (res.provider && res.provider.length) {\n                            for (let i = 0; i < res.provider.length; i++) {\n                                if (~filters.indexOf(res.provider[i])) {\n                                    this.providerList.push({\n                                        value: res.provider[i],\n                                        image: '../../static/' + res.provider[i] + '.png'\n                                    });\n                                }\n                            }\n\t\t\t\t\t\t\tdebugger\n                            // 设置 是否有授权的服务商\n                            this.hasProvider = true;\n                        }\n                    },\n                    fail: (err) => {\n                        console.error('获取服务供应商失败：' + JSON.stringify(err));\n                    }\n                });\n            },\n            initPosition() {\n                /**\n                 * 使用 absolute 定位，并且设置 bottom 值进行定位。软键盘弹出时，底部会因为窗口变化而被顶上来。\n                 * 反向使用 top 进行定位，可以避免此问题。\n                 */\n                this.positionTop = uni.getSystemInfoSync().windowHeight - 100;\n            },\n            bindLogin() {\n\t\t\t\tdebugger\n\t\t\t\tlet _this = this\n                /**\n                 * 客户端对账号信息进行一些必要的校验。\n                 * 实际开发中，根据业务需要进行处理，这里仅做示例。\n                 */\n                // if (this.name.length < 5) {\n                //     uni.showToast({\n                //         icon: 'none',\n                //         title: '账号最短为 5 个字符'\n                //     });\n                //     return;\n                // }\n                // if (this.password.length < 6) {\n                //     uni.showToast({\n                //         icon: 'none',\n                //         title: '密码最短为 6 个字符'\n                //     });\n                //     return;\n                // }\n                /**\n                 * 下面简单模拟下服务端的处理\n                 * 检测用户账号密码是否在已注册的用户列表中\n                 * 实际开发中，使用 uni.request 将账号信息发送至服务端，客户端在回调函数中获取结果信息。\n                 */\n     //            const data = {\n\t\t\t\t\t// loginAccount: this.name,\n\t\t\t\t\t// password: this.password\t\n     //            };\n\t\t\t\t\n\t\t\t\t// console.log(\"手机号码、密码注册登录时的 data\",data)\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n     //            loginApi.register(data).then((res) => {\n\t\t\t\t\t// // debugger\n     //                if(res && res.data.code === 1) {\n     //                    this.success('登录成功')\n     //                    // 成功后 \n     //                    // debugger\n     //                    // 将用户信息存入到store 中\n     //                    if(res.data.user){\n     //                        this.$store.dispatch('setUserToken', res.data.user.token || '')\t\t\t\t\t\t\t\t\n     //                    }\n\t\t\t\t\t// \tdebugger\n     //                    this.switchPage('../find/find').then((res) =>{\n     //                        \n     //                    }).catch(()=>{\n     //                        \n     //                    })\n     //                }else {\n     //                    this.hideLoading();\n     //                    this.toast(\"用户账号或密码不正确\")\n     //                }\n     //            })\n\t \n\t \t\t// \tlet data = {\n\t\t\t\t// \tname: this.name,\n\t\t\t\t// \tpassword: this.password\n\t\t\t\t// }\n\t\t\t\t// console.log(\"手机号码、密码注册登录时的 data\",data)\n\t\t\t\t// this.$store.dispatch(\"login\", data)\n\t\t\t\t \n\t\t\t\tlet data = {\n\t\t\t\t\tparams: {\n\t\t\t\t\t\tloginAccount: this.name,\n\t\t\t\t\t\tpassword: this.password\t \n\t\t\t\t\t}\n\t\t\t\t}\n\t \n\t\t\t\tcommApi.appLoginAndRegister( data ).then(res => {\n\t\t\t\t\tdebugger\n\t\t\t\t\tconsole.log(\"app登陆成功后打印 res\", res)\n\t\t\t\t\tif(res.statusCode === 200 && res.data.code === 1){\n\t\t\t\t\t\t// console.log(\"--------\",res.data.data.token)\n\t\t\t\t\t\tlet token = res.data.data.token\n\t\t\t\t\t\tlet customer = res.data.data.customer\n\t\t\t\t\t\t// userInfo 存入缓存中\n\t\t\t\t\t\tthis.setStorage(\"userInfo\", JSON.stringify(customer))\n\t\t\t\t\t\t// token 存入 缓存中\n\t\t\t\t\t\tthis.setStorage(\"userToken\", token)\n\t\t\t\t\t\t// id 存入缓存中\n\t\t\t\t\t\tthis.setStorage(\"userId\", customer.id)\n\t\t\t\t\t\tthis.$store.dispatch(\"setUserId\", customer.id)\n\n\t\t\t\t\t\tconsole.log(\"login页面中打印冲localstorage中获取到的userToken\",uni.getStorageSync(\"userToken\"))\n\t\t\t\t\t\t// token 存入store 中\n\t\t\t\t\t\tthis.$store.dispatch(\"setUserToken\", token)\n\t\t\t\t\t\tthis.toast(\"app登录成功\")\n\n\t\t\t\t\t\t// 登录成功后  获取app的cid 后 发送给 后台 和对应的 用户 进行绑定 到时 需要给特定用户进行推送时，只需客户端将 引用的 cid 一并传给后端 到时后端根据cid给特定的用户进行下发推送即可\n\t\t\t\t\t\t// 获取 用户应用clientid \n\n\n\n\t\t\t\t\t\t// ....调取存入 clientid 的接口 将clientid 与账号进行绑定\n\t\t\t\t\t\t\n\t\t\t\t\t\tdebugger\n\t\t\t\t\t\t// 登陆成功后 页面进行跳转\n\t\t\t\t\t\tdebugger\n\t\t\t\t\t\tswitch(this.jumpType){\n\t\t\t\t\t\t\tcase '1':\n\t\t\t\t\t\t\t\tthis.switchPage(this.toPageUrl)\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t\t\n\t\t\t\t\t\t\tcase '2':\n\t\t\t\t\t\t\t\tthis.redirectPage(this.toPageUrl)\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t\t\n\t\t\t\t\t\t\tcase '3':\n\t\t\t\t\t\t\t\tthis.reLauchPage(this.toPageUrl)\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t\t\n\t\t\t\t\t\t\tcase '4':\n\t\t\t\t\t\t\t\tthis.navigatePage(this.toPageUrl)\n\t\t\t\t\t\t\tbreak\n\t\t\t\t\t\t\t\n\t\t\t\t\t\t\tdefault:\n\t\t\t\t\t\t\t\tthis.switchPage('../find/find')\n\t\t\t\t\t\t}\n\t\t\t\t\t}else if( res.statusCode === 200 && res.data.code === 1000){\n\t\t\t\t\t\t// 密码错误\n\t\t\t\t\t\tthis.toast(\"登录密码不正确,请重新输入\")\n\t\t\t\t\t} \n\t\t\t\t})\n\t\t\t\t\n            },\n\t\t\t// 授权登陆（微信、qq、微博）\n            oauth(value) {\n                this.getDeviceApi().login({\n                    provider: value,\n                    success: (res) => {\n\t\t\t\t\t\tconsole.log(\"[${value}]授权后 通过uni.login()获取到的返回结果res\", JSON.stringify(res))\n                        uni.getUserInfo({\n                            provider: value,\n                            success: (infoRes) => {\n                                /**\n                                 * 实际开发中，获取用户信息后，需要将信息上报至服务端。 \n                                 * 服务端可以用 userInfo.openId 作为用户的唯一标识新增或绑定用户信息。\n                                 */\n\t\t\t\t\t\t\t\tconsole.log(`[${value}]授权登录后 通过uni.getUserInfo获取到的返回结果infoRes`, JSON.stringify(infoRes))\n                                this.getLoginToken(infoRes);\n                            }\n                        });\n                    },\n                    fail: (err) => {\n                        console.error('授权登录失败：' + JSON.stringify(err));\n                    }\n                });\n            },\n\t\t\t// 授权后 登录获取 token\n\t\t\tgetLoginToken(data) {\n\t\t\t\tdebugger\n\t\t\t\tlet params = {\n\t\t\t\t\tparams: {\n\t\t\t\t\t\t\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tcommApi.getOpenId( params, true ).then((res) =>{\n\t\t\t\t\tdebugger\n\t\t\t\t})\n\t\t\t},\n            toWelecome(userName) {\n                // 触发 store 中的mutations （login）\n                // this.login(userName);\n                /**\n                 * 强制登录时使用reLaunch方式跳转过来\n                 * 返回首页也使用reLaunch方式 \n                 */\n                if (this.forcedLogin) {\n                    uni.reLaunch({\n                        url: '../main/main',\n                    });\n                } else {\n                    uni.navigateBack();\n                }\n            }\n        }\n    }\n","import mod from \"-!../../../../HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/loader.js??ref--10-oneOf-1-0!../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--10-oneOf-1-1!../../../../HBuilderX/plugins/uniapp-cli/node_modules/css-loader/index.js??ref--10-oneOf-1-2!../../../../HBuilderX/plugins/uniapp-cli/node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../HBuilderX/plugins/uniapp-cli/node_modules/postcss-loader/src/index.js??ref--10-oneOf-1-3!../../../../HBuilderX/plugins/uniapp-cli/node_modules/less-loader/dist/cjs.js??ref--10-oneOf-1-4!../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--10-oneOf-1-5!../../../../HBuilderX/plugins/uniapp-cli/node_modules/vue-loader/lib/index.js??vue-loader-options!../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./login.vue?vue&type=style&index=0&id=1fbda2ce&lang=less&scoped=true&\"; export default mod; export * from \"-!../../../../HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/loader.js??ref--10-oneOf-1-0!../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--10-oneOf-1-1!../../../../HBuilderX/plugins/uniapp-cli/node_modules/css-loader/index.js??ref--10-oneOf-1-2!../../../../HBuilderX/plugins/uniapp-cli/node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../HBuilderX/plugins/uniapp-cli/node_modules/postcss-loader/src/index.js??ref--10-oneOf-1-3!../../../../HBuilderX/plugins/uniapp-cli/node_modules/less-loader/dist/cjs.js??ref--10-oneOf-1-4!../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--10-oneOf-1-5!../../../../HBuilderX/plugins/uniapp-cli/node_modules/vue-loader/lib/index.js??vue-loader-options!../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./login.vue?vue&type=style&index=0&id=1fbda2ce&lang=less&scoped=true&\"","// extracted by mini-css-extract-plugin"],"sourceRoot":""}