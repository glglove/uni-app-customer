{"version":3,"sources":["webpack:///D:/git-nodeProgram/uni-app-customer/pages/components/authorize/authorize.vue?f210","webpack:///D:/git-nodeProgram/uni-app-customer/pages/components/authorize/authorize.vue?fb35","webpack:///D:/git-nodeProgram/uni-app-customer/pages/components/authorize/authorize.vue?ca65","webpack:///D:/git-nodeProgram/uni-app-customer/pages/components/authorize/authorize.vue?f447","webpack:///D:/git-nodeProgram/uni-app-customer/pages/components/authorize/authorize.vue","webpack:///D:/git-nodeProgram/uni-app-customer/pages/components/authorize/authorize.vue?1bb6","webpack:///D:/git-nodeProgram/uni-app-customer/pages/components/authorize/authorize.vue?3412"],"names":["name","components","props","mixins","miniProApi","data","canIUse","getDeviceApi","onload","console","log","computed","now","Date","watch","methods","onComLoad","getUserInfo_miniPro","e","detail","userInfo","$store","dispatch","authorizeState","authorizeAfter_login","then","res","$bus","$emit","modal"],"mappings":";;;;;;;;;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAoG;AACvC;AACL;AACsC;;;AAG9F;AACoK;AACpK,gBAAgB,sKAAU;AAC1B,EAAE,+EAAM;AACR,EAAE,gGAAM;AACR,EAAE,yGAAe;AACjB;AACA;AACA;AACA;;AAEA;;AAEA;AACA,IAAI,KAAU,EAAE,YAiBf;AACD;AACe,gF;;;;;;;;;;;;ACvCf;AAAA;AAAA;AAAA;AAAA;AAAA;;;;;;;;;;;;;ACAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA,WAAW,mBAAO,CAAC,wCAA+B;;AAElD;AACA,MAAM;AACN;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;AChBA;AAAA;AAAA;AAAA;AAAmwB,CAAgB,ouBAAG,EAAC,C;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACqHvxB;AACA,gD;AACe;AACdA,MAAI,EAAE,WADQ;AAEdC,YAAU,EAAC,EAFG;;;AAKdC,OAAK,EAAC;AACL;AACA;AACA;AACA;AACA;AALK,GALQ;AAYdC,QAAM,EAAE,CAAEC,kBAAF,CAZM;AAadC,MAbc,kBAaP;AACN,WAAO;AACN;AACAC,aAAO,EAAE,KAAKC,YAAL,GAAoBD,OAApB,CAA4B,8BAA5B;AACT;AAHM,KAAP;AAKA,GAnBa;AAoBRE,QApBQ;AAqBb;AACAC,qBAAO,CAACC,GAAR,CAAY,gCAAZ,EAtBa;;AAwBdC,UAAQ;AACJ,wBAAW;AACb,kBADa,CAAX,CADI;;AAIPC,OAJO,iBAIA;AACN,aAAO,CAAC,IAAIC,IAAJ,EAAR;AACA,KANM,GAxBM;;AAgCdC,OAAK,EAAE,EAhCO;;;AAmCdC,SAAO,EAAE;AACRC,aADQ,uBACK;AACZP,aAAO,CAACC,GAAR,CAAY,mCAAZ;AACA,KAHO;AAIFO,uBAJE,sHAIkBC,CAJlB;AAKP;AACA,oBAAGA,CAAH,EAAK;AACJ,sBAAIA,CAAC,CAACC,MAAF,CAASC,QAAb,EAAuB;AACtB;AACAX,2BAAO,CAACC,GAAR,CAAY,2CAAZ,EAAyDQ,CAAC,CAACC,MAAF,CAASC,QAAlE;AACA;AACA;AACA;AACe,yBAAKC,MAAL,CAAYC,QAAZ,CAAqB,mBAArB,EAA0C,EAACC,cAAc,EAAE,IAAjB,EAAuBH,QAAQ,EAAEF,CAAC,CAACC,MAAF,CAASC,QAA1C,EAA1C;AACA;AACA,yBAAKI,oBAAL,GAA4BC,IAA5B,CAAiC,UAAAC,GAAG,EAAI;AACpC,0BAAGA,GAAH,EAAO;AACH;AACA;AACA,6BAAI,CAACC,IAAL,CAAUC,KAAV,CAAgB,iBAAhB;AACH;AACJ,qBAND;AAOf;AACA;AACA;AACA;AACA;AACA,mBApBD,MAoBO;AACN;AACA,yBAAKC,KAAL,CAAW,0BAAX;AACA;AACA;AACD,iBA1BD,MA0BM;AACL;;AAEA,mBAnCM,yLAnCK,E;;;;;;;;;;;;ACvHf;AAAA;AAAA;AAAA;AAAy5C,CAAgB,4xCAAG,EAAC,C;;;;;;;;;;;ACA76C,uC","file":"pages/components/authorize/authorize.js","sourcesContent":["import { render, staticRenderFns } from \"./authorize.vue?vue&type=template&id=5780f737&scoped=true&\"\nimport script from \"./authorize.vue?vue&type=script&lang=js&\"\nexport * from \"./authorize.vue?vue&type=script&lang=js&\"\nimport style0 from \"./authorize.vue?vue&type=style&index=0&id=5780f737&lang=less&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../软件安装包/HBuilderX.1.9.9.20190522.full/HBuilderX/plugins/uniapp-cli/node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"5780f737\",\n  null\n  \n)\n\n/* hot reload */\nif (module.hot) {\n  var api = require(\"D:\\\\软件安装包\\\\HBuilderX.1.9.9.20190522.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\vue-hot-reload-api\\\\dist\\\\index.js\")\n  api.install(require('vue'))\n  if (api.compatible) {\n    module.hot.accept()\n    if (!module.hot.data) {\n      api.createRecord('5780f737', component.options)\n    } else {\n      api.reload('5780f737', component.options)\n    }\n    module.hot.accept(\"./authorize.vue?vue&type=template&id=5780f737&scoped=true&\", function () {\n      api.rerender('5780f737', {\n        render: render,\n        staticRenderFns: staticRenderFns\n      })\n    })\n  }\n}\ncomponent.options.__file = \"git-nodeProgram/uni-app-customer/pages/components/authorize/authorize.vue\"\nexport default component.exports","export * from \"-!../../../../../软件安装包/HBuilderX.1.9.9.20190522.full/HBuilderX/plugins/uniapp-cli/node_modules/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!../../../../../软件安装包/HBuilderX.1.9.9.20190522.full/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--17-0!../../../../../软件安装包/HBuilderX.1.9.9.20190522.full/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/template.js!../../../../../软件安装包/HBuilderX.1.9.9.20190522.full/HBuilderX/plugins/uniapp-cli/node_modules/vue-loader/lib/index.js??vue-loader-options!../../../../../软件安装包/HBuilderX.1.9.9.20190522.full/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./authorize.vue?vue&type=template&id=5780f737&scoped=true&\"","var render = function() {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n  var m0 = require(\"@/static/imgs/icon/twlogo.png\")\n\n  _vm.$mp.data = Object.assign(\n    {},\n    {\n      $root: {\n        m0: m0\n      }\n    }\n  )\n}\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns }","import mod from \"-!../../../../../软件安装包/HBuilderX.1.9.9.20190522.full/HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../../软件安装包/HBuilderX.1.9.9.20190522.full/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--12-1!../../../../../软件安装包/HBuilderX.1.9.9.20190522.full/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../../软件安装包/HBuilderX.1.9.9.20190522.full/HBuilderX/plugins/uniapp-cli/node_modules/vue-loader/lib/index.js??vue-loader-options!../../../../../软件安装包/HBuilderX.1.9.9.20190522.full/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./authorize.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../软件安装包/HBuilderX.1.9.9.20190522.full/HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../../软件安装包/HBuilderX.1.9.9.20190522.full/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--12-1!../../../../../软件安装包/HBuilderX.1.9.9.20190522.full/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../../软件安装包/HBuilderX.1.9.9.20190522.full/HBuilderX/plugins/uniapp-cli/node_modules/vue-loader/lib/index.js??vue-loader-options!../../../../../软件安装包/HBuilderX.1.9.9.20190522.full/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./authorize.vue?vue&type=script&lang=js&\"","//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n\r\n// import twMixin from '@/mixins/common.js'  \r\nimport { miniProApi } from '@/utils/mixins.js'\r\nimport { mapGetters }  from 'vuex'\r\nexport default {\r\n\tname: 'Authorize',\r\n\tcomponents:{\r\n\t\t\r\n\t},\r\n\tprops:{\r\n\t\t// isShow: {\r\n\t\t// \ttype: Boolean,\r\n\t\t// \tdefault: true,\r\n\t\t// \ttwoWay: true\r\n\t\t// },\r\n\t},\r\n\tmixins: [ miniProApi ],\r\n\tdata (){\r\n\t\treturn {\r\n\t\t\t//判断小程序的API，回调，参数，组件等是否在当前版本可用。\r\n\t\t\tcanIUse: this.getDeviceApi().canIUse('button.open-type.getUserInfo'),\r\n\t\t\t// isShowAuthorizeDialog: false, // 控制 授权窗口的显示/隐藏\t\r\n\t\t}\r\n\t},\r\n\tasync onload () {\r\n\t\tdebugger\r\n\t\tconsole.log(\"authorize--------onLoad-------\")\r\n\t},\r\n\tcomputed: {\r\n\t\t...mapGetters([\r\n\t\t\t'authorizeState'\r\n\t\t]),\r\n\t\tnow () {\r\n\t\t\treturn +new Date()\r\n\t\t}\r\n\t},\r\n\twatch: {\r\n\r\n\t},\r\n\tmethods: {\r\n\t\tonComLoad () {\r\n\t\t\tconsole.log(\"authorize--------onComLoad-------\")\r\n\t\t},\r\n\t\tasync getUserInfo_miniPro(e) {\r\n\t\t\tdebugger;\r\n\t\t\tif(e){\r\n\t\t\t\tif (e.detail.userInfo) {\r\n\t\t\t\t\t//用户按了允许授权按钮\r\n\t\t\t\t\tconsole.log(\"用户按了允许授权按钮后获取的用户信息e.detail.userInfo------\", e.detail.userInfo);\r\n\t\t\t\t\t// 修改全局中的notAuthorize 为true（已授权）\r\n\t\t\t\t\t// debugger;\r\n\t\t\t\t\t//将 授权状态存入到 全局store-app 的 authorizeState中\r\n                    this.$store.dispatch('setAuthorizeState', {authorizeState: true, userInfo: e.detail.userInfo})\r\n                    // 授权后登陆\r\n                    this.authorizeAfter_login().then(res => {\r\n                        if(res){\r\n                            //登录成功 后触发 刷新页面\r\n                            debugger\r\n                            this.$bus.$emit(\"emitRefreshPage\")\r\n                        }\r\n                    })\r\n\t\t\t\t\t// 关闭授权的弹框\r\n\t\t\t\t\t// this.isShowAuthorizeDialog = false\r\n\t\t\t\t\t// debugger;\r\n\t\t\t\t\t//插入登录的用户的相关信息到数据库\r\n\t\t\t\t\t// this.$emit(\"authorizeAgree\", e.detail.userInfo )\r\n\t\t\t\t} else {\r\n\t\t\t\t\t//用户按了拒绝按钮\r\n\t\t\t\t\tthis.modal(\"不授权将无法正常使用小程序相关功能，请授权后使用\")\r\n\t\t\t\t\t// this.$emit(\"authorizeRefuse\", e.detail.userInfo )\r\n\t\t\t\t}\r\n\t\t\t}else {\r\n\t\t\t\t// 关闭授权的弹框\r\n\t\t\t\t\r\n\t\t\t}\r\n        }      \r\n\t},\r\n}\r\n","import mod from \"-!../../../../../软件安装包/HBuilderX.1.9.9.20190522.full/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/loader.js??ref--10-oneOf-1-0!../../../../../软件安装包/HBuilderX.1.9.9.20190522.full/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--10-oneOf-1-1!../../../../../软件安装包/HBuilderX.1.9.9.20190522.full/HBuilderX/plugins/uniapp-cli/node_modules/css-loader/index.js??ref--10-oneOf-1-2!../../../../../软件安装包/HBuilderX.1.9.9.20190522.full/HBuilderX/plugins/uniapp-cli/node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../../软件安装包/HBuilderX.1.9.9.20190522.full/HBuilderX/plugins/uniapp-cli/node_modules/postcss-loader/src/index.js??ref--10-oneOf-1-3!../../../../../软件安装包/HBuilderX.1.9.9.20190522.full/HBuilderX/plugins/uniapp-cli/node_modules/less-loader/dist/cjs.js??ref--10-oneOf-1-4!../../../../../软件安装包/HBuilderX.1.9.9.20190522.full/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--10-oneOf-1-5!../../../../../软件安装包/HBuilderX.1.9.9.20190522.full/HBuilderX/plugins/uniapp-cli/node_modules/vue-loader/lib/index.js??vue-loader-options!../../../../../软件安装包/HBuilderX.1.9.9.20190522.full/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./authorize.vue?vue&type=style&index=0&id=5780f737&lang=less&scoped=true&\"; export default mod; export * from \"-!../../../../../软件安装包/HBuilderX.1.9.9.20190522.full/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/loader.js??ref--10-oneOf-1-0!../../../../../软件安装包/HBuilderX.1.9.9.20190522.full/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--10-oneOf-1-1!../../../../../软件安装包/HBuilderX.1.9.9.20190522.full/HBuilderX/plugins/uniapp-cli/node_modules/css-loader/index.js??ref--10-oneOf-1-2!../../../../../软件安装包/HBuilderX.1.9.9.20190522.full/HBuilderX/plugins/uniapp-cli/node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../../软件安装包/HBuilderX.1.9.9.20190522.full/HBuilderX/plugins/uniapp-cli/node_modules/postcss-loader/src/index.js??ref--10-oneOf-1-3!../../../../../软件安装包/HBuilderX.1.9.9.20190522.full/HBuilderX/plugins/uniapp-cli/node_modules/less-loader/dist/cjs.js??ref--10-oneOf-1-4!../../../../../软件安装包/HBuilderX.1.9.9.20190522.full/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--10-oneOf-1-5!../../../../../软件安装包/HBuilderX.1.9.9.20190522.full/HBuilderX/plugins/uniapp-cli/node_modules/vue-loader/lib/index.js??vue-loader-options!../../../../../软件安装包/HBuilderX.1.9.9.20190522.full/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./authorize.vue?vue&type=style&index=0&id=5780f737&lang=less&scoped=true&\"","// extracted by mini-css-extract-plugin"],"sourceRoot":""}